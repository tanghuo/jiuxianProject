<?php if (!defined('THINK_PATH')) exit(); try{ $user="root"; $pass="123456789"; $PDO=new PDO("mysql:host=localhost;dbname=jiuxian",$user,$pass); $PDO->setAttribute(PDO::ATTR_ERRMODE,PDO::ERRMODE_EXCEPTION ); $PDO->beginTransaction(); $query="update sell set sell_state='等待收货' where sell_id=?"; $temp = $PDO->prepare($query); $temp -> bindParam(1,$sell_id); $sell_id=$_GET["sell_id"]; $temp -> execute(); $PDO->commit(); }catch(PDOException $e) { echo 'Connection failed: ' . $e->getMessage(); $PDO->rollback(); }